"""Default prompts, models, and intent configurations."""

from pathlib import Path

_PROMPTS_DIR = Path(__file__).resolve().parent.parent / "prompts"


def _load_prompt(filename: str) -> str:
    return (_PROMPTS_DIR / filename).read_text(encoding="utf-8").strip()


# โโโ Available models โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

AVAILABLE_MODELS = {
    "Gemini 2.5 Flash": {
        "provider": "gemini",
        "model_id": "gemini-2.5-flash",
        "supports_thinking": False,
        "supports_reasoning": False,
    },
    "Gemini 3 Flash": {
        "provider": "gemini",
        "model_id": "gemini-3-flash-preview",
        "supports_thinking": True,
        "supports_reasoning": False,
    },
    "GPT OSS 120B (Yandex)": {
        "provider": "yandex",
        "model_id": "gpt-oss-120b/latest",
        "supports_thinking": False,
        "supports_reasoning": True,
    },
}

THINKING_LEVELS = [None, "minimal", "low", "medium", "high"]
REASONING_EFFORTS = [None, "low", "medium", "high"]

# โโโ Student types โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

STUDENT_TYPES = ["ะกะปะฐะฑัะน", "ะกัะตะดะฝะธะน", "ะกะธะปัะฝัะน"]

# โโโ Default teacher prompt โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

DEFAULT_TEACHER_PROMPT = _load_prompt("teacher.md")

# โโโ Default student prompts (per type) โโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

DEFAULT_STUDENT_PROMPTS = {
    "ะกะปะฐะฑัะน": _load_prompt("student_weak.md"),
    "ะกัะตะดะฝะธะน": _load_prompt("student_medium.md"),
    "ะกะธะปัะฝัะน": _load_prompt("student_strong.md"),
}


# โโโ Static teacher greeting (shown immediately on app load) โโโโโโโโ

TEACHER_GREETING = (
    "ะะพะฑัะพ ะฟะพะถะฐะปะพะฒะฐัั ะฒ ัะตะถะธะผ ะพะฑััะตะฝะธั!\n\n"
    "ะะต ะฑัะดั ะดะฐะฒะฐัั ะณะพัะพะฒัะต ะพัะฒะตัั โ ะฟะพะผะพะณั ะฟะพะฝััั ัะตัะตะท ะฟัะฐะฒะธะปัะฝัะต ะฒะพะฟัะพัั.\n\n"
    "ะงัะพ ะธะทััะฐะตะผ?\n"
    "- ะะฐะดะฐัั, ะบะพัะพัะฐั ะฝะต ัะตัะฐะตััั\n"
    "- ะขะตะผั, ะบะพัะพัะฐั ะฝะตะฟะพะฝััะฝะฐ\n"
    "- ะงัะพ-ัะพ ะธะท ะดะพะผะฐัะบะธ\n\n"
    "ะะธัะธ, ะฝะฐัะฝัะผ! ๐"
)

# โโโ Intents โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

INTENTS = [
    {
        "id": "chat",
        "name": "ะะพะปัะพะฒะฝั",
        "prompt": "ะกะตะนัะฐั ัั ัะพัะตัั ะฟะพะฑะพะปัะฐัั ะฝะต ะฟะพ ัะตะผะต. ะกะบะฐะถะธ ััะพ-ัะพ ะพัะฒะปะตััะฝะฝะพะต โ ะฟัะพ ะฟะพะณะพะดั, ัะบะพะปั, ะธะณัั ะธะปะธ ััะพ ัะณะพะดะฝะพ. ะะต ัะตัะฐะน ะทะฐะดะฐัะธ.",
    },
    {
        "id": "set-problem",
        "name": "ะะฐะดะฐัั ะทะฐะดะฐัั",
        "prompt": "ะกะตะนัะฐั ัั ัะพัะตัั ะฟัะตะดะปะพะถะธัั ัะตะฟะตัะธัะพัั ะทะฐะดะฐัั ะฟะพ ะผะฐัะตะผะฐัะธะบะต. ะัะธะดัะผะฐะน ะธะปะธ ะฒัะฟะพะผะฝะธ ะทะฐะดะฐัั ะธ ะฟะพะฟัะพัะธ ะตั ัะฐะทะพะฑัะฐัั.",
    },
    {
        "id": "answer",
        "name": "ะัะฒะตัะธัั",
        "prompt": "ะกะตะนัะฐั ัั ะพัะฒะตัะฐะตัั ะฝะฐ ะฒะพะฟัะพั ะธะปะธ ะทะฐะดะฐัั ัะตะฟะตัะธัะพัะฐ. ะะพะฟัะพะฑัะน ัะตัะธัั/ะพัะฒะตัะธัั ะฟะพ ะผะตัะต ัะฒะพะธั ัะฟะพัะพะฑะฝะพััะตะน.",
    },
    {
        "id": "get-explanation",
        "name": "ะัะพัะธัั ะพะฑัััะฝะตะฝะธะต",
        "prompt": "ะกะตะนัะฐั ัั ะฝะต ะฟะพะฝะธะผะฐะตัั ััะพ-ัะพ ะธ ัะพัะตัั, ััะพะฑั ัะตะฟะตัะธัะพั ะพะฑัััะฝะธะป ะฟะพะดัะพะฑะฝะตะต. ะะฐะดะฐะน ััะพัะฝัััะธะน ะฒะพะฟัะพั ะธะปะธ ะฟะพะฟัะพัะธ ะพะฑัััะฝะธัั ะธะฝะฐัะต.",
    },
    {
        "id": "thank-tutor",
        "name": "ะะพะฑะปะฐะณะพะดะฐัะธัั",
        "prompt": "ะกะตะนัะฐั ัั ัะพัะตัั ะฟะพะฑะปะฐะณะพะดะฐัะธัั ัะตะฟะตัะธัะพัะฐ ะทะฐ ะพะฑัััะฝะตะฝะธะต ะธะปะธ ะฟะพะผะพัั. ะกะบะฐะถะธ ัะฟะฐัะธะฑะพ ัะฒะพะธะผะธ ัะปะพะฒะฐะผะธ.",
    },
    {
        "id": "agree-with-tutor",
        "name": "ะกะพะณะปะฐัะธัััั",
        "prompt": "ะกะตะนัะฐั ัั ัะพะณะปะฐัะฐะตัััั ั ัะตะผ, ััะพ ัะบะฐะทะฐะป ัะตะฟะตัะธัะพั. ะะพะดัะฒะตัะดะธ, ััะพ ะฟะพะฝัะป, ะธ ะฟะพะบะฐะถะธ ััะพ ััะฒะพะธะป ะผะฐัะตัะธะฐะป.",
    },
    {
        "id": "find-mistake",
        "name": "ะะฐะนัะธ ะพัะธะฑะบั",
        "prompt": "ะกะตะนัะฐั ัั ะฟััะฐะตัััั ะฝะฐะนัะธ ะพัะธะฑะบั ะธะปะธ ะฝะตัะพัะฝะพััั ะฒ ัะพะผ, ััะพ ัะบะฐะทะฐะป ัะตะฟะตัะธัะพั. ะัะปะธ ะฒะธะดะธัั ะพัะธะฑะบั โ ัะบะฐะถะธ ะฝะฐ ะฝะตั. ะัะปะธ ะฝะตั โ ะฟัะธะดัะผะฐะน ัะพะผะฝะตะฝะธะต.",
    },
    {
        "id": "criticize-tutor",
        "name": "ะัะธัะธะบะพะฒะฐัั",
        "prompt": "ะกะตะนัะฐั ัั ะฝะตะดะพะฒะพะปะตะฝ ะพะฑัััะฝะตะฝะธะตะผ ัะตะฟะตัะธัะพัะฐ. ะกะบะฐะถะธ, ััะพ ะพะฑัััะฝะตะฝะธะต ะฝะตะฟะพะฝััะฝะพะต, ัะปะธัะบะพะผ ัะปะพะถะฝะพะต ะธะปะธ ัะปะธัะบะพะผ ะฟัะพััะพะต. ะััะบะฐะถะธ ะฟัะตัะตะฝะทะธั.",
    },
    {
        "id": "end-dialog",
        "name": "ะะฐะบะพะฝัะธัั ะดะธะฐะปะพะณ",
        "prompt": "ะกะตะนัะฐั ัั ัะพัะตัั ะทะฐะบะพะฝัะธัั ะทะฐะฝััะธะต. ะกะบะฐะถะธ, ััะพ ัะตะฑะต ะฟะพัะฐ, ัั ัััะฐะป, ะธะปะธ ัะตะฑะต ะดะพััะฐัะพัะฝะพ ะฝะฐ ัะตะณะพะดะฝั. ะะพะฟัะพัะฐะนัั.",
    },
    {
        "id": "get-solution",
        "name": "ะะพะฟัะพัะธัั ะพัะฒะตั",
        "prompt": "ะกะตะนัะฐั ัั ะฝะต ัะพัะตัั ัะฐะทะฑะธัะฐัััั ัะฐะผ ะธ ะฟัะพัะธัั ัะตะฟะตัะธัะพัะฐ ะฟัะพััะพ ะดะฐัั ะณะพัะพะฒัะน ะพัะฒะตั ะธะปะธ ัะตัะตะฝะธะต. ะะพะฟัะพัะธ ะฝะฐะฟััะผัั.",
    },
]

# โโโ Default intent weights per student type (must sum to 100) โโโโโโ

_REAL_WEIGHTS = {
    "chat": 5,
    "set-problem": 14,
    "answer": 58,
    "get-explanation": 4,
    "thank-tutor": 0,
    "agree-with-tutor": 12,
    "find-mistake": 1,
    "criticize-tutor": 3,
    "end-dialog": 1,
    "get-solution": 2,
}

DEFAULT_INTENT_WEIGHTS = {
    "ะกะปะฐะฑัะน": _REAL_WEIGHTS.copy(),
    "ะกัะตะดะฝะธะน": _REAL_WEIGHTS.copy(),
    "ะกะธะปัะฝัะน": _REAL_WEIGHTS.copy(),
}

# โโโ Probability of correct answer (for "answer" intent) โโโโโโโโโ

DEFAULT_CORRECT_ANSWER_PROB = {
    "ะกะปะฐะฑัะน": 20,
    "ะกัะตะดะฝะธะน": 50,
    "ะกะธะปัะฝัะน": 80,
}
